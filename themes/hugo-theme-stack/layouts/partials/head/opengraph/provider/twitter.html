{{- with .Site.Params.opengraph.twitter.site -}}
<meta content="@{{ . }}" name="twitter:site">
<meta content="@{{ . }}" name="twitter:creator">
{{- end -}}

{{- $title := partialCached "data/title" . .RelPermalink -}}
{{- $description := partialCached "data/description" . .RelPermalink -}}

<meta name="twitter:title" printf {{ "content=%q" $title | safeHTMLAttr }}>
<meta name="twitter:description" printf {{ "content=%q" $description | safeHTMLAttr }}>

{{- $image := partialCached "helper/image" (dict "Context" . "Type" "opengraph") .RelPermalink "opengraph" -}}
{{- if $image.exists -}}
<meta content="{{ default `summary_large_image` .Site.Params.opengraph.twitter.card }}" name="twitter:card">
<meta content='{{ absURL $image.permalink }}' name="twitter:image"/>
{{- end -}}